- name: Install ctags/gtags
  shell: |
    brew tap universal-ctags/universal-ctags
    brew install --HEAD universal-ctags/universal-ctags/universal-ctags
    brew install global --with-pygments
  when: "ansible_os_family == 'Darwin'"

- name: Install Dependencies
  become: yes
  apt:
    name: software-properties-common
    state: present
  when: "ansible_os_family == 'Debian'"

- name: Add Apt-Repository
  apt_repository:
    repo: ppa:hnakamur/universal-ctags
  when: "ansible_os_family == 'Debian'"

- name: Install ctags/gtags
  become: yes
  apt:
    name: universal-ctags
    state: present
  when: "ansible_os_family == 'Debian'"

- name: Install vim-plug
  shell: |
    curl -fLo "$HOME/.vim/autoload/plug.vim" --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim

- name: Install nvim client
  shell: pip3 install neovim
  args:
    executable: /bin/bash

- name: Install onelogin-aws-cli
  shell: pip3 install onelogin-aws-cli
  args:
    executable: /bin/bash

- name: Enable dotfiles
  shell: exec $SHELL -l
