- name: Install Alacritty
  shell: |
    brew tap mscharley/homebrew
    brew install --HEAD alacritty
  when: "ansible_os_family == 'Darwin'"

- name: Install Alacritty Dependencies
  become: yes
  apt:
    name: '{{ APT_PACKAGES }}'
    state: present
  when: "ansible_os_family == 'Debian'"

- name: Fetch Alacritty repo
  git:
    repo: https://github.com/jwilm/alacritty
    dest: "$HOME/alacritty"
  when: "ansible_os_family == 'Debian'"

- name: Install Alacritty
  shell: |
    cargo install cargo-deb
    cargo deb --install
  args:
    chdir: "$HOME/alacritty/"
  when: "ansible_os_family == 'Debian'"

- name: Fetch bat repo
  git:
    repo: https://github.com/sharkdp/bat
    dest: "$HOME/bat"

- name: Install bat
  shell: cargo install bat
  args:
    chdir: "$HOME/bat/"

- name: Fetch exa repo
  git:
    repo: https://github.com/ogham/exa
    dest: "$HOME/exa"

- name: Install exa
  shell: cargo install exa
  args:
    chdir: "$HOME/exa/"

- name: Fetch exa repo
  git:
    repo: https://github.com/BurntSushi/xsv
    dest: "$HOME/xsv"

- name: Install xsv
  shell: cargo build --release
  args:
    chdir: "$HOME/xsv/"

- name: Remove Repository
  shell: |
    rm -fr alacritty
    rm -fr bat
    rm -fr exa
    rm -fr xsv
  args:
    chdir: "$HOME"
